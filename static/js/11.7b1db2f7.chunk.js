(this["webpackJsonpnyan-fund-management"]=this["webpackJsonpnyan-fund-management"]||[]).push([[11],{1742:function(e,t,a){"use strict";var n=a(0),r=a.n(n),o=a(214),i=a(20),l=a(8),c=a(502),s=a(248),m=a(3),p=Object(c.a)((function(e){return{pageHeaderRoot:Object(l.a)({display:"flex",flexDirection:"column"},e.breakpoints.up("sm"),{alignItems:"center",flexDirection:"row"}),titleRoot:Object(l.a)({},e.breakpoints.down("xs"),{marginBottom:10})}})),u=function(e){var t=e.heading,a=e.breadcrumbComponent,n=e.children,l=Object(i.a)(e,["heading","breadcrumbComponent","children"]),c=p();return r.a.createElement(o.a,Object.assign({className:Object(m.a)(c.pageHeaderRoot,"page-header"),mb:{xs:5,md:6,lg:8}},l),r.a.createElement(s.a,{component:"div",variant:"h1",className:Object(m.a)(c.titleRoot,"title")},t),r.a.createElement(o.a,{ml:{sm:"auto"}},a),n)},d=a(1814),g=a(85),b=Object(c.a)((function(){return{textSm:{fontSize:12},linkBlock:{display:"block",color:"inherit"}}})),f=function(e){var t=e.items,a=(Object(i.a)(e,["items"]),b());return r.a.createElement(d.a,{className:"bread-crumbs","aria-label":"breadcrumb {...rest}"},t.map((function(e,t){return e.isActive?r.a.createElement(s.a,{key:t,className:a.textSm,color:"textPrimary"},e.label):r.a.createElement(g.a,{key:t,className:Object(m.a)(a.textSm,a.linkBlock),color:"inherit",to:e.link||"/"},e.label)})))},h=(a(1618),a(39),a(504),a(1730),a(1602),a(1604),a(1687),Object(c.a)((function(e){var t;return{root:{display:"flex",flexWrap:"wrap"},contentArea:(t={width:"100%"},Object(l.a)(t,e.breakpoints.up("sm"),{paddingRight:e.typography.pxToRem(30),width:"calc(100% - ".concat(e.typography.pxToRem(175),")")}),Object(l.a)(t,e.breakpoints.up("lg"),{paddingRight:e.typography.pxToRem(54)}),t),contentSidebar:{width:e.typography.pxToRem(175),height:"calc(100vh - ".concat(e.typography.pxToRem(102),")"),position:"sticky",top:30,overflowY:"auto",flexShrink:0}}})),a(1606)),E=a(22),y=a.n(E)()((function(e){return{pageFull:{width:"100%"}}}));t.a=function(e){var t=e.heading,a=e.breadcrumbs,n=e.children,i=e.className,l=e.restProps,c=y();return r.a.createElement(h.a,{in:!0,direction:"up",mountOnEnter:!0,unmountOnExit:!0},r.a.createElement(o.a,Object.assign({className:Object(m.a)(c.pageFull,i)},l),(t||a)&&r.a.createElement(u,{heading:t,breadcrumbComponent:a&&r.a.createElement(f,{items:a})}),n))}},1994:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return Y}));var n=a(15),r=a.n(n),o=a(42),i=a(14),l=a(0),c=a.n(l),s=a(502),m=a(25),p=a(388),u=a(214),d=a(1684),g=a(1618),b=a(1),f=a(1742),h=a(248),E=a(20),y=a(796),v=a(1607),x=a(1753),k=a(1698),w=a(1700),j=a(303),O=Object(s.a)((function(e){return{modal:{display:"flex",alignItems:"center",justifyContent:"center"},paper:{backgroundColor:e.palette.background.paper,border:"1px solid #000",boxShadow:e.shadows[4],padding:e.spacing(4,8,6)},typeMargin:{marginBottom:"15px"},root:{display:"flex",flexWrap:"wrap","& > *":{backgroundColor:Object(m.e)(e.palette.background.paper,.1),margin:e.spacing(2),width:e.spacing(35),height:e.spacing(25)}},lpButton:{width:"auto",display:"inline-block",marginRight:"12px"}}})),B=c.a.forwardRef((function(e,t){var a=e.in,n=e.children,r=e.onEnter,o=e.onExited,i=Object(E.a)(e,["in","children","onEnter","onExited"]),l=Object(x.useSpring)({from:{opacity:0},to:{opacity:a?1:0},onStart:function(){a&&r&&r()},onRest:function(){!a&&o&&o()}});return c.a.createElement(x.animated.div,Object.assign({ref:t,style:l},i),n)})),N=function(){var e=Object(o.a)(r.a.mark((function e(t,a,n){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t,a,n.value),e.next=3,j.b.addPoolETH(t,a,n.value);case 3:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}();function T(e){var t=e.manager,a=e.pool,n=O(),r=c.a.useState(!1),o=Object(i.a)(r,2),l=o[0],s=o[1],m=c.a.useState(0),p=Object(i.a)(m,2),u=p[0],g=p[1];return c.a.createElement("div",{className:n.lpButton},c.a.createElement(d.a,{variant:"outlined",onClick:function(){s(!0)}},"ADD ETH"),c.a.createElement(y.a,{"aria-labelledby":"spring-modal-title","aria-describedby":"spring-modal-description",className:n.modal,open:l,onClose:function(){s(!1)},closeAfterTransition:!0,BackdropComponent:v.a,BackdropProps:{timeout:500}},c.a.createElement(B,{in:l},c.a.createElement("div",{className:n.paper},c.a.createElement("h2",{id:"spring-modal-title"},"Add Liquidity"),c.a.createElement(h.a,{className:n.typeMargin,variant:"body1",gutterBottom:!0},"You're about to add liquidity to a pool managed by an individual. ",c.a.createElement("br",null),"Please make sure you know this manager and have a means of communicating with them. ",c.a.createElement("br",null)),c.a.createElement(w.a,{className:n.typeMargin,variant:"middle"}),c.a.createElement(k.a,{id:"eth-amount",label:"ETH amount",type:"number",InputLabelProps:{shrink:!0},variant:"outlined",className:n.typeMargin,onChange:function(){g(document.getElementById("eth-amount").value)}}),c.a.createElement("h3",{id:"spring-modal-title"},"Expected Pool Tokens:"),c.a.createElement(h.a,{className:n.typeMargin,variant:"h1",component:"h2",gutterBottom:!0},u," mTokens"),c.a.createElement(d.a,{variant:"outlined",onClick:function(){return N(t,a,document.getElementById("eth-amount"))}},"Add")))))}var C=a(126),S=Object(s.a)((function(e){return{modal:{display:"flex",alignItems:"center",justifyContent:"center"},paper:{backgroundColor:e.palette.background.paper,border:"1px solid #000",boxShadow:e.shadows[4],padding:e.spacing(4,8,6)},typeMargin:{marginBottom:"15px"},root:{display:"flex",flexWrap:"wrap","& > *":{backgroundColor:Object(m.e)(e.palette.background.paper,.1),margin:e.spacing(2),width:e.spacing(35),height:e.spacing(25)}},lpButton:{width:"auto",display:"inline-block",marginRight:"12px"}}})),P=c.a.forwardRef((function(e,t){var a=e.in,n=e.children,r=e.onEnter,o=e.onExited,i=Object(E.a)(e,["in","children","onEnter","onExited"]),l=Object(x.useSpring)({from:{opacity:0},to:{opacity:a?1:0},onStart:function(){a&&r&&r()},onRest:function(){!a&&o&&o()}});return c.a.createElement(x.animated.div,Object.assign({ref:t,style:l},i),n)})),R=function(){var e=Object(o.a)(r.a.mark((function e(t,a){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=document.getElementById("token-amount").value,e.next=3,j.b.withdrawPoolETH(t,a,n);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();function M(e){var t=e.manager,a=e.pool,n=S(),l=c.a.useState(!1),s=Object(i.a)(l,2),m=s[0],p=s[1],u=c.a.useState(0),g=Object(i.a)(u,2),b=g[0],f=g[1];Object(C.useEffect)((function(){function e(){return(e=Object(o.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var E=function(){var e=Object(o.a)(r.a.mark((function e(){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=document.getElementById("token-amount").value,e.t0=f,e.next=5,j.b.estimateETHWithdrawal(t,a,n);case 5:e.t1=e.sent,(0,e.t0)(e.t1),e.next=12;break;case 9:e.prev=9,e.t2=e.catch(0),console.log(e.t2);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();return c.a.createElement("div",{className:n.lpButton},c.a.createElement(d.a,{variant:"outlined",onClick:function(){p(!0)}},"Remove ETH"),c.a.createElement(y.a,{"aria-labelledby":"spring-modal-title","aria-describedby":"spring-modal-description",className:n.modal,open:m,onClose:function(){p(!1)},closeAfterTransition:!0,BackdropComponent:v.a,BackdropProps:{timeout:500}},c.a.createElement(P,{in:m},c.a.createElement("div",{className:n.paper},c.a.createElement("h2",{id:"spring-modal-title"},"Remove Liquidity"),c.a.createElement(h.a,{className:n.typeMargin,variant:"body1",gutterBottom:!0},"You're about to remove ETH from this Self managed pool. ",c.a.createElement("br",null),"Your returned ETH will be prorated depending on how much the pool's manager has withdrawn. ",c.a.createElement("br",null)),c.a.createElement(w.a,{className:n.typeMargin,variant:"middle"}),c.a.createElement(k.a,{id:"token-amount",label:"Pool Token amount",type:"number",onChange:E,InputLabelProps:{shrink:!0},variant:"outlined",className:n.typeMargin}),c.a.createElement("h3",{id:"spring-modal-title"},"Expected ETH:"),c.a.createElement(h.a,{className:n.typeMargin,variant:"h1",component:"h2",gutterBottom:!0},b," ETH"),c.a.createElement(d.a,{onClick:function(){return R(t,a)},variant:"outlined"},"Remove")))))}var H=Object(s.a)((function(e){return{modal:{display:"flex",alignItems:"center",justifyContent:"center"},paper:{backgroundColor:e.palette.background.paper,border:"1px solid #000",boxShadow:e.shadows[4],padding:e.spacing(4,8,6)},typeMargin:{marginBottom:"15px"},root:{display:"flex",flexWrap:"wrap","& > *":{backgroundColor:Object(m.e)(e.palette.background.paper,.1),margin:e.spacing(2),width:e.spacing(35),height:e.spacing(25)}},lpButton:{width:"auto",display:"inline-block",marginRight:"12px"}}})),A=function(){var e=Object(o.a)(r.a.mark((function e(t,a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.b.claimPoolProfit(t,a);case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),I=c.a.forwardRef((function(e,t){var a=e.in,n=e.children,r=e.onEnter,o=e.onExited,i=Object(E.a)(e,["in","children","onEnter","onExited"]),l=Object(x.useSpring)({from:{opacity:0},to:{opacity:a?1:0},onStart:function(){a&&r&&r()},onRest:function(){!a&&o&&o()}});return c.a.createElement(x.animated.div,Object.assign({ref:t,style:l},i),n)}));function W(e){var t=e.manager,a=e.pool,n=e.profit,l=H(),s=c.a.useState(!1),m=Object(i.a)(s,2),p=m[0],u=m[1],g=c.a.useState(0),b=Object(i.a)(g,2),f=b[0],E=b[1];Object(C.useEffect)((function(){function e(){return(e=Object(o.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n>0)){e.next=6;break}return e.t0=E,e.next=4,j.b.estimatedPoolProfit(t,a);case 4:e.t1=e.sent,(0,e.t0)(e.t1);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);return c.a.createElement("div",{className:l.lpButton},c.a.createElement(d.a,{variant:"outlined",onClick:function(){u(!0)}},"Take Profits"),c.a.createElement(y.a,{"aria-labelledby":"spring-modal-title","aria-describedby":"spring-modal-description",className:l.modal,open:p,onClose:function(){u(!1)},closeAfterTransition:!0,BackdropComponent:v.a,BackdropProps:{timeout:500}},c.a.createElement(I,{in:p},c.a.createElement("div",{className:l.paper},c.a.createElement("h2",{id:"spring-modal-title"},"Take ETH Profits"),c.a.createElement(h.a,{className:l.typeMargin,variant:"body1",gutterBottom:!0},"Available pool profits can be claimed here. ",c.a.createElement("br",null),"Claiming operates on FIFO basis and the amount of pool Tokens you have. ",c.a.createElement("br",null)),c.a.createElement(w.a,{className:l.typeMargin,variant:"middle"}),c.a.createElement("h3",{id:"spring-modal-title"},"Available Profit:"),c.a.createElement(h.a,{className:l.typeMargin,variant:"h1",component:"h2",gutterBottom:!0},n," ETH"),c.a.createElement("h3",{id:"spring-modal-title"},"Expected ETH:"),c.a.createElement(h.a,{className:l.typeMargin,variant:"h1",component:"h2",gutterBottom:!0},f," ETH"),c.a.createElement(d.a,{variant:"outlined",onClick:function(){return A(t,a)}},"Claim")))))}var D=Object(s.a)((function(e){return{modal:{display:"flex",alignItems:"center",justifyContent:"center"},paper:{backgroundColor:e.palette.background.paper,border:"1px solid #000",boxShadow:e.shadows[4],padding:e.spacing(4,8,6)},typeMargin:{marginBottom:"15px"},root:{display:"flex",flexWrap:"wrap","& > *":{backgroundColor:Object(m.e)(e.palette.background.paper,.1),margin:e.spacing(2),width:e.spacing(35),height:e.spacing(25)}},lpButton:{width:"auto",display:"inline-block",marginRight:"12px"}}})),q=c.a.forwardRef((function(e,t){var a=e.in,n=e.children,r=e.onEnter,o=e.onExited,i=Object(E.a)(e,["in","children","onEnter","onExited"]),l=Object(x.useSpring)({from:{opacity:0},to:{opacity:a?1:0},onStart:function(){a&&r&&r()},onRest:function(){!a&&o&&o()}});return c.a.createElement(x.animated.div,Object.assign({ref:t,style:l},i),n)}));function L(){var e=D(),t=c.a.useState(!1),a=Object(i.a)(t,2),n=a[0],r=a[1];return c.a.createElement("div",{className:e.lpButton},c.a.createElement(d.a,{variant:"outlined",onClick:function(){r(!0)}},"Remove Restrictions"),c.a.createElement(y.a,{"aria-labelledby":"spring-modal-title","aria-describedby":"spring-modal-description",className:e.modal,open:n,onClose:function(){r(!1)},closeAfterTransition:!0,BackdropComponent:v.a,BackdropProps:{timeout:500}},c.a.createElement(q,{in:n},c.a.createElement("div",{className:e.paper},c.a.createElement("h2",{id:"spring-modal-title"},"Remove Manager Restrictions"),c.a.createElement(h.a,{className:e.typeMargin,variant:"body1",gutterBottom:!0},"By using this function, you are voting to give this pool's manager access to the full pool liquidity. ",c.a.createElement("br",null),"The restrictions will be lifted once 70% of token holders agree.",c.a.createElement("br",null)),c.a.createElement(w.a,{className:e.typeMargin,variant:"middle"}),c.a.createElement(h.a,{className:e.typeMargin,variant:"h1",component:"h2",gutterBottom:!0},"Are you sure you agree with removing restrictions?"),c.a.createElement(d.a,{variant:"outlined"},"I agree.")))))}var F=a(33),V=Object(s.a)((function(e){return{root:{display:"flex",flexWrap:"wrap","& > *":{backgroundColor:Object(m.e)(e.palette.background.paper,.1)}},padding:{padding:"10px",marginTop:"30px",width:"100%"},paddingWarning:{padding:"10px",marginTop:"5px",marginBottom:"15px",width:"100%",border:"1px solid red"},tokenPadding:{marginBottom:"7px"},tokenPaddingBottom:{marginTop:"15px",marginBottom:"5px"},h1Variant:{fontSize:"35px"},viewPoolContract:{marginBottom:"5px"}}}));function Y(){var e=V(),t=Object(F.h)(),a=c.a.useState(null),n=Object(i.a)(a,2),l=n[0],s=n[1],m=c.a.useState(null),E=Object(i.a)(m,2),y=E[0],v=E[1],x=c.a.useState(null),k=Object(i.a)(x,2),w=k[0],O=k[1],B=c.a.useState(null),N=Object(i.a)(B,2),S=N[0],P=N[1],R=c.a.useState(0),H=Object(i.a)(R,2),A=H[0],I=H[1],D=c.a.useState(null),q=Object(i.a)(D,2),Y=q[0],z=q[1],J=c.a.useState(0),U=Object(i.a)(J,2);U[0],U[1];return Object(C.useEffect)((function(){function e(){return(e=Object(o.a)(r.a.mark((function e(){var a,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t.pathname.split("/")),a=t.pathname.split("/"),e.t0=s,e.next=5,j.b.getSelfPoolData(a[a.length-1]);case 5:return e.t1=e.sent,(0,e.t0)(e.t1),e.next=9,j.b.getSelfPoolData(a[a.length-1]);case 9:n=e.sent,O(n.holdings),P(n.profits),I(n.poolToken),z(n.name),v(a[a.length-1]),console.log(a[a.length-1]),console.log(y);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),c.a.createElement(f.a,{heading:c.a.createElement(b.a,{id:"Pool name: "+Y})},null!=l?c.a.createElement("div",null,c.a.createElement(u.a,{className:e.root},c.a.createElement(p.a,{className:e.paddingWarning,elevation:2},"The Nyan ecosystem allows anyone to create a pool and get access to liquidity. Before interacting with any pool, make sure you know the manager of the pool and trust them. Similar to Etherscan and Uniswap, this site automatically displays stats for all Nyan pools independent of pool integrity.",c.a.createElement("br",null),c.a.createElement(d.a,{className:e.tokenPaddingBottom},"View Pool Contract on Etherscan"))),c.a.createElement(h.a,{className:e.tokenPadding,variant:"h3",component:"h2",gutterBottom:!0},"Pool Token: ",A),c.a.createElement(h.a,{className:e.tokenPaddingBottom,variant:"h3",component:"h2",gutterBottom:!0},"My Tokens: ",1),c.a.createElement(u.a,null,null!=y?c.a.createElement("div",null,c.a.createElement(T,{pool:A,manager:y}),c.a.createElement(M,{pool:A,manager:y}),c.a.createElement(W,{pool:A,manager:y,profit:S}),c.a.createElement(L,null)):null),c.a.createElement(u.a,{className:e.root},c.a.createElement(g.a,{className:e.padding,item:!0,xs:12},c.a.createElement(h.a,{variant:"h5",component:"h5",gutterBottom:!0},"TOTAL ETH:"),c.a.createElement(h.a,{className:e.h1Variant,variant:"h1",component:"h1",gutterBottom:!0},w),c.a.createElement(p.a,{elevation:2})),c.a.createElement(g.a,{className:e.padding,item:!0,xs:12},c.a.createElement(h.a,{variant:"h5",component:"h5",gutterBottom:!0},"Available Profits (ETH):"),c.a.createElement(h.a,{className:e.h1Variant,variant:"h1",component:"h1",gutterBottom:!0},S),c.a.createElement(p.a,{elevation:2})))):null)}}}]);
//# sourceMappingURL=11.7b1db2f7.chunk.js.map