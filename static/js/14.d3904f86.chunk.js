(this["webpackJsonpnyan-fund-management"]=this["webpackJsonpnyan-fund-management"]||[]).push([[14],{1743:function(e,t,a){"use strict";var n=a(0),r=a.n(n),o=a(178),i=a(20),c=a(8),l=a(503),s=a(249),m=a(3),p=Object(l.a)((function(e){return{pageHeaderRoot:Object(c.a)({display:"flex",flexDirection:"column"},e.breakpoints.up("sm"),{alignItems:"center",flexDirection:"row"}),titleRoot:Object(c.a)({},e.breakpoints.down("xs"),{marginBottom:10})}})),u=function(e){var t=e.heading,a=e.breadcrumbComponent,n=e.children,c=Object(i.a)(e,["heading","breadcrumbComponent","children"]),l=p();return r.a.createElement(o.a,Object.assign({className:Object(m.a)(l.pageHeaderRoot,"page-header"),mb:{xs:5,md:6,lg:8}},c),r.a.createElement(s.a,{component:"div",variant:"h1",className:Object(m.a)(l.titleRoot,"title")},t),r.a.createElement(o.a,{ml:{sm:"auto"}},a),n)},d=a(1776),g=a(85),b=Object(l.a)((function(){return{textSm:{fontSize:12},linkBlock:{display:"block",color:"inherit"}}})),f=function(e){var t=e.items,a=(Object(i.a)(e,["items"]),b());return r.a.createElement(d.a,{className:"bread-crumbs","aria-label":"breadcrumb {...rest}"},t.map((function(e,t){return e.isActive?r.a.createElement(s.a,{key:t,className:a.textSm,color:"textPrimary"},e.label):r.a.createElement(g.a,{key:t,className:Object(m.a)(a.textSm,a.linkBlock),color:"inherit",to:e.link||"/"},e.label)})))},h=(a(1623),a(40),a(505),a(1734),a(1606),a(1608),a(1691),Object(l.a)((function(e){var t;return{root:{display:"flex",flexWrap:"wrap"},contentArea:(t={width:"100%"},Object(c.a)(t,e.breakpoints.up("sm"),{paddingRight:e.typography.pxToRem(30),width:"calc(100% - ".concat(e.typography.pxToRem(175),")")}),Object(c.a)(t,e.breakpoints.up("lg"),{paddingRight:e.typography.pxToRem(54)}),t),contentSidebar:{width:e.typography.pxToRem(175),height:"calc(100vh - ".concat(e.typography.pxToRem(102),")"),position:"sticky",top:30,overflowY:"auto",flexShrink:0}}})),a(1611)),E=a(22),y=a.n(E)()((function(e){return{pageFull:{width:"100%"}}}));t.a=function(e){var t=e.heading,a=e.breadcrumbs,n=e.children,i=e.className,c=e.restProps,l=y();return r.a.createElement(h.a,{in:!0,direction:"up",mountOnEnter:!0,unmountOnExit:!0},r.a.createElement(o.a,Object.assign({className:Object(m.a)(l.pageFull,i)},c),(t||a)&&r.a.createElement(u,{heading:t,breadcrumbComponent:a&&r.a.createElement(f,{items:a})}),n))}},2002:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return G}));var n=a(11),r=a.n(n),o=a(31),i=a(15),c=a(0),l=a.n(c),s=a(503),m=a(26),p=a(389),u=a(178),d=a(1688),g=a(1623),b=a(1),f=a(1743),h=a(249),E=a(20),y=a(800),v=a(1612),k=a(1758),x=a(1702),w=a(1704),j=a(304),O=Object(s.a)((function(e){return{modal:{display:"flex",alignItems:"center",justifyContent:"center"},paper:{backgroundColor:e.palette.background.paper,border:"1px solid #000",boxShadow:e.shadows[4],padding:e.spacing(4,8,6)},typeMargin:{marginBottom:"15px"},root:{display:"flex",flexWrap:"wrap","& > *":{backgroundColor:Object(m.e)(e.palette.background.paper,.1),margin:e.spacing(2),width:e.spacing(35),height:e.spacing(25)}},lpButton:{width:"auto",display:"inline-block",marginRight:"12px"}}})),B=l.a.forwardRef((function(e,t){var a=e.in,n=e.children,r=e.onEnter,o=e.onExited,i=Object(E.a)(e,["in","children","onEnter","onExited"]),c=Object(k.useSpring)({from:{opacity:0},to:{opacity:a?1:0},onStart:function(){a&&r&&r()},onRest:function(){!a&&o&&o()}});return l.a.createElement(k.animated.div,Object.assign({ref:t,style:c},i),n)})),S=function(){var e=Object(o.a)(r.a.mark((function e(t,a,n){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t,a,n.value),e.next=3,j.b.addPoolETH(t,a,n.value);case 3:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}();function N(){return"ETH"==window.localStorage.getItem("chain")?" ETH":" BNB"}function T(e){var t=e.manager,a=e.pool,n=O(),r=l.a.useState(!1),o=Object(i.a)(r,2),c=o[0],s=o[1],m=l.a.useState(0),p=Object(i.a)(m,2),u=p[0],g=p[1];return l.a.createElement("div",{className:n.lpButton},l.a.createElement(d.a,{variant:"outlined",onClick:function(){s(!0)}},"ADD ",N()),l.a.createElement(y.a,{"aria-labelledby":"spring-modal-title","aria-describedby":"spring-modal-description",className:n.modal,open:c,onClose:function(){s(!1)},closeAfterTransition:!0,BackdropComponent:v.a,BackdropProps:{timeout:500}},l.a.createElement(B,{in:c},l.a.createElement("div",{className:n.paper},l.a.createElement("h2",{id:"spring-modal-title"},"Add Liquidity"),l.a.createElement(h.a,{className:n.typeMargin,variant:"body1",gutterBottom:!0},"You're about to add liquidity to a pool managed by an individual. ",l.a.createElement("br",null),"Please make sure you know this manager and have a means of communicating with them. ",l.a.createElement("br",null)),l.a.createElement(w.a,{className:n.typeMargin,variant:"middle"}),l.a.createElement(x.a,{id:"eth-amount",label:N()+" amount",type:"number",InputLabelProps:{shrink:!0},variant:"outlined",className:n.typeMargin,onChange:function(){g(document.getElementById("eth-amount").value)}}),l.a.createElement("h3",{id:"spring-modal-title"},"Expected Pool Tokens:"),l.a.createElement(h.a,{className:n.typeMargin,variant:"h1",component:"h2",gutterBottom:!0},u," mTokens"),l.a.createElement(d.a,{variant:"outlined",onClick:function(){return S(t,a,document.getElementById("eth-amount"))}},"Add")))))}var C=a(102),P=Object(s.a)((function(e){return{modal:{display:"flex",alignItems:"center",justifyContent:"center"},paper:{backgroundColor:e.palette.background.paper,border:"1px solid #000",boxShadow:e.shadows[4],padding:e.spacing(4,8,6)},typeMargin:{marginBottom:"15px"},root:{display:"flex",flexWrap:"wrap","& > *":{backgroundColor:Object(m.e)(e.palette.background.paper,.1),margin:e.spacing(2),width:e.spacing(35),height:e.spacing(25)}},lpButton:{width:"auto",display:"inline-block",marginRight:"12px"}}})),R=l.a.forwardRef((function(e,t){var a=e.in,n=e.children,r=e.onEnter,o=e.onExited,i=Object(E.a)(e,["in","children","onEnter","onExited"]),c=Object(k.useSpring)({from:{opacity:0},to:{opacity:a?1:0},onStart:function(){a&&r&&r()},onRest:function(){!a&&o&&o()}});return l.a.createElement(k.animated.div,Object.assign({ref:t,style:c},i),n)})),M=function(){var e=Object(o.a)(r.a.mark((function e(t,a){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=document.getElementById("token-amount").value,e.next=3,j.b.withdrawPoolETH(t,a,j.c.toWei(n.toString()));case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();function I(){return"ETH"==window.localStorage.getItem("chain")?" ETH":" BNB"}function A(e){var t=e.manager,a=e.pool,n=P(),c=l.a.useState(!1),s=Object(i.a)(c,2),m=s[0],p=s[1],u=l.a.useState(0),g=Object(i.a)(u,2),b=g[0],f=g[1],E=l.a.useState(0),k=Object(i.a)(E,2),O=k[0],B=k[1],S=l.a.useState(!0),N=Object(i.a)(S,2),T=N[0],A=N[1];Object(C.useEffect)((function(){function e(){return(e=Object(o.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var H=function(){var e=Object(o.a)(r.a.mark((function e(t){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.b.approvePoolToken(t);case 2:a=e.sent,console.log(a),a.status&&A(!0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),W=function(){var e=Object(o.a)(r.a.mark((function e(){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=document.getElementById("token-amount").value,e.t0=f,e.next=5,j.b.estimateETHWithdrawal(t,a,j.c.toWei(n.toString()));case 5:return e.t1=e.sent,(0,e.t0)(e.t1),e.t2=B,e.next=10,j.b.getApprovedAmount(a);case 10:e.t3=e.sent,(0,e.t2)(e.t3),console.log(b),console.log(O),j.c.toWei(n.toString())>O?A(!1):A(!0),e.next=20;break;case 17:e.prev=17,e.t4=e.catch(0),console.log(e.t4);case 20:case"end":return e.stop()}}),e,null,[[0,17]])})));return function(){return e.apply(this,arguments)}}();return l.a.createElement("div",{className:n.lpButton},l.a.createElement(d.a,{variant:"outlined",onClick:function(){p(!0)}},"Remove ",I()),l.a.createElement(y.a,{"aria-labelledby":"spring-modal-title","aria-describedby":"spring-modal-description",className:n.modal,open:m,onClose:function(){p(!1)},closeAfterTransition:!0,BackdropComponent:v.a,BackdropProps:{timeout:500}},l.a.createElement(R,{in:m},l.a.createElement("div",{className:n.paper},l.a.createElement("h2",{id:"spring-modal-title"},"Remove Liquidity"),l.a.createElement(h.a,{className:n.typeMargin,variant:"body1",gutterBottom:!0},"You're about to remove ETH from this Self managed pool. ",l.a.createElement("br",null),"Your returned ",I(),"  will be prorated depending on how much the pool's manager has withdrawn. ",l.a.createElement("br",null)),l.a.createElement(w.a,{className:n.typeMargin,variant:"middle"}),l.a.createElement(x.a,{id:"token-amount",label:"Pool Token amount",type:"number",onChange:W,InputLabelProps:{shrink:!0},variant:"outlined",className:n.typeMargin}),l.a.createElement("h3",{id:"spring-modal-title"},"Expected ",I(),":"),l.a.createElement(h.a,{className:n.typeMargin,variant:"h1",component:"h2",gutterBottom:!0},j.c.getRoundedBalance(b.toString())," ",I()),T?l.a.createElement(d.a,{onClick:function(){return M(t,a)},variant:"outlined"},"Withdraw my Liquidity"):l.a.createElement(d.a,{onClick:function(){return H(a)},variant:"outlined"},"First, Approve the Contract")))))}var H=Object(s.a)((function(e){return{modal:{display:"flex",alignItems:"center",justifyContent:"center"},paper:{backgroundColor:e.palette.background.paper,border:"1px solid #000",boxShadow:e.shadows[4],padding:e.spacing(4,8,6)},typeMargin:{marginBottom:"15px"},root:{display:"flex",flexWrap:"wrap","& > *":{backgroundColor:Object(m.e)(e.palette.background.paper,.1),margin:e.spacing(2),width:e.spacing(35),height:e.spacing(25)}},lpButton:{width:"auto",display:"inline-block",marginRight:"12px"}}})),W=function(){var e=Object(o.a)(r.a.mark((function e(t,a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.b.claimPoolProfit(t,a);case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();function q(){return"ETH"==window.localStorage.getItem("chain")?" ETH":" BNB"}var D=l.a.forwardRef((function(e,t){var a=e.in,n=e.children,r=e.onEnter,o=e.onExited,i=Object(E.a)(e,["in","children","onEnter","onExited"]),c=Object(k.useSpring)({from:{opacity:0},to:{opacity:a?1:0},onStart:function(){a&&r&&r()},onRest:function(){!a&&o&&o()}});return l.a.createElement(k.animated.div,Object.assign({ref:t,style:c},i),n)}));function L(e){var t=e.manager,a=e.pool,n=e.profit,c=H(),s=l.a.useState(!1),m=Object(i.a)(s,2),p=m[0],u=m[1],g=l.a.useState(0),b=Object(i.a)(g,2),f=b[0],E=b[1];Object(C.useEffect)((function(){function e(){return(e=Object(o.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n>0)){e.next=6;break}return e.t0=E,e.next=4,j.b.estimatedPoolProfit(t,a);case 4:e.t1=e.sent,(0,e.t0)(e.t1);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);return l.a.createElement("div",{className:c.lpButton},l.a.createElement(d.a,{variant:"outlined",onClick:function(){u(!0)}},"Take Profits"),l.a.createElement(y.a,{"aria-labelledby":"spring-modal-title","aria-describedby":"spring-modal-description",className:c.modal,open:p,onClose:function(){u(!1)},closeAfterTransition:!0,BackdropComponent:v.a,BackdropProps:{timeout:500}},l.a.createElement(D,{in:p},l.a.createElement("div",{className:c.paper},l.a.createElement("h2",{id:"spring-modal-title"},"Take ",q()," Profits"),l.a.createElement(h.a,{className:c.typeMargin,variant:"body1",gutterBottom:!0},"Available pool profits can be claimed here. ",l.a.createElement("br",null),"Claiming operates on FIFO basis and the amount of pool Tokens you have. ",l.a.createElement("br",null)),l.a.createElement(w.a,{className:c.typeMargin,variant:"middle"}),l.a.createElement("h3",{id:"spring-modal-title"},"Available Profit:"),l.a.createElement(h.a,{className:c.typeMargin,variant:"h1",component:"h2",gutterBottom:!0},n," ",q()),l.a.createElement("h3",{id:"spring-modal-title"},"Expected ",q(),":"),l.a.createElement(h.a,{className:c.typeMargin,variant:"h1",component:"h2",gutterBottom:!0},f," ",q()),l.a.createElement(d.a,{variant:"outlined",onClick:function(){return W(t,a)}},"Claim")))))}var F=Object(s.a)((function(e){return{modal:{display:"flex",alignItems:"center",justifyContent:"center"},paper:{backgroundColor:e.palette.background.paper,border:"1px solid #000",boxShadow:e.shadows[4],padding:e.spacing(4,8,6)},typeMargin:{marginBottom:"15px"},root:{display:"flex",flexWrap:"wrap","& > *":{backgroundColor:Object(m.e)(e.palette.background.paper,.1),margin:e.spacing(2),width:e.spacing(35),height:e.spacing(25)}},lpButton:{width:"auto",display:"inline-block",marginRight:"12px"}}})),V=l.a.forwardRef((function(e,t){var a=e.in,n=e.children,r=e.onEnter,o=e.onExited,i=Object(E.a)(e,["in","children","onEnter","onExited"]),c=Object(k.useSpring)({from:{opacity:0},to:{opacity:a?1:0},onStart:function(){a&&r&&r()},onRest:function(){!a&&o&&o()}});return l.a.createElement(k.animated.div,Object.assign({ref:t,style:c},i),n)}));function Y(){var e=F(),t=l.a.useState(!1),a=Object(i.a)(t,2),n=a[0],r=a[1];return l.a.createElement("div",{className:e.lpButton},l.a.createElement(d.a,{variant:"outlined",onClick:function(){r(!0)}},"Remove Restrictions"),l.a.createElement(y.a,{"aria-labelledby":"spring-modal-title","aria-describedby":"spring-modal-description",className:e.modal,open:n,onClose:function(){r(!1)},closeAfterTransition:!0,BackdropComponent:v.a,BackdropProps:{timeout:500}},l.a.createElement(V,{in:n},l.a.createElement("div",{className:e.paper},l.a.createElement("h2",{id:"spring-modal-title"},"Remove Manager Restrictions"),l.a.createElement(h.a,{className:e.typeMargin,variant:"body1",gutterBottom:!0},"By using this function, you are voting to give this pool's manager access to the full pool liquidity. ",l.a.createElement("br",null),"The restrictions will be lifted once 70% of token holders agree.",l.a.createElement("br",null)),l.a.createElement(w.a,{className:e.typeMargin,variant:"middle"}),l.a.createElement(h.a,{className:e.typeMargin,variant:"h1",component:"h2",gutterBottom:!0},"Are you sure you agree with removing restrictions?"),l.a.createElement(d.a,{variant:"outlined"},"I agree.")))))}var z=a(24),J=(a(333),Object(s.a)((function(e){return{root:{display:"flex",flexWrap:"wrap","& > *":{backgroundColor:Object(m.e)(e.palette.background.paper,.1)}},padding:{padding:"10px",marginTop:"30px",width:"100%"},paddingWarning:{padding:"10px",marginTop:"5px",marginBottom:"15px",width:"100%",border:"1px solid red"},tokenPadding:{marginBottom:"7px"},tokenPaddingBottom:{marginTop:"15px",marginBottom:"5px"},h1Variant:{fontSize:"35px"},viewPoolContract:{marginBottom:"5px"}}})));function U(){return"ETH"==window.localStorage.getItem("chain")?" ETH":" BNB"}function G(){var e=J(),t=Object(z.h)(),a=l.a.useState(null),n=Object(i.a)(a,2),c=n[0],s=n[1],m=l.a.useState(null),E=Object(i.a)(m,2),y=E[0],v=E[1],k=l.a.useState(0),x=Object(i.a)(k,2),w=x[0],O=x[1],B=l.a.useState(0),S=Object(i.a)(B,2),N=S[0],P=S[1],R=l.a.useState(0),M=Object(i.a)(R,2),I=M[0],H=M[1],W=l.a.useState(null),q=Object(i.a)(W,2),D=q[0],F=q[1],V=l.a.useState(0),G=Object(i.a)(V,2),K=G[0],Q=G[1];return Object(C.useEffect)((function(){function e(){return(e=Object(o.a)(r.a.mark((function e(){var a,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.pathname.split("/"),e.t0=s,e.next=4,j.b.getSelfPoolData(a[a.length-1]);case 4:return e.t1=e.sent,(0,e.t0)(e.t1),e.next=8,j.b.getSelfPoolData(a[a.length-1]);case 8:return n=e.sent,O(n.holdings),e.t2=Q,e.next=13,j.b.getMySelfPoolTokens(n.poolToken);case 13:e.t3=e.sent,(0,e.t2)(e.t3),P(n.profits),H(n.poolToken),F(n.name),v(a[a.length-1]);case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),l.a.createElement(f.a,{heading:l.a.createElement(b.a,{id:"Pool name: "+D})},null!=c?l.a.createElement("div",null,l.a.createElement(u.a,{className:e.root},l.a.createElement(p.a,{className:e.paddingWarning,elevation:2},"The Nyan ecosystem allows anyone to create a pool and get access to liquidity. Before interacting with any pool, make sure you know the manager of the pool and trust them. Similar to Etherscan and Uniswap, this site automatically displays stats for all Nyan pools independent of pool integrity.",l.a.createElement("br",null),"ETH"==window.localStorage.getItem("chain")?l.a.createElement(d.a,{href:"https://etherscan.io/address/"+I,className:e.tokenPaddingBottom},"View Pool Contract on Etherscan"):l.a.createElement(d.a,{href:"https://bscscan.com/address/"+I,className:e.tokenPaddingBottom},"View Pool Contract on Bscscan"))),l.a.createElement(h.a,{className:e.tokenPadding,variant:"h3",component:"h2",gutterBottom:!0},"Pool Token: ",I),l.a.createElement(h.a,{className:e.tokenPaddingBottom,variant:"h3",component:"h2",gutterBottom:!0},"My Tokens: ",j.c.getRoundedBalance(K.toString())),l.a.createElement(u.a,null,null!=y?l.a.createElement("div",null,l.a.createElement(T,{pool:I,manager:y}),l.a.createElement(A,{pool:I,manager:y}),l.a.createElement(L,{pool:I,manager:y,profit:N}),l.a.createElement(Y,null)):null),l.a.createElement(u.a,{className:e.root},l.a.createElement(g.a,{className:e.padding,item:!0,xs:12},l.a.createElement(h.a,{variant:"h5",component:"h5",gutterBottom:!0},"TOTAL ",U(),":"),l.a.createElement(h.a,{className:e.h1Variant,variant:"h1",component:"h1",gutterBottom:!0},j.c.getRoundedBalance(w.toString())),l.a.createElement(p.a,{elevation:2})),l.a.createElement(g.a,{className:e.padding,item:!0,xs:12},l.a.createElement(h.a,{variant:"h5",component:"h5",gutterBottom:!0},"Available Profits (",U(),"):"),l.a.createElement(h.a,{className:e.h1Variant,variant:"h1",component:"h1",gutterBottom:!0},j.c.getRoundedBalance(N.toString())),l.a.createElement(p.a,{elevation:2})))):null)}}}]);
//# sourceMappingURL=14.d3904f86.chunk.js.map