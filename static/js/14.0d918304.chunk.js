(this["webpackJsonpnyan-fund-management"]=this["webpackJsonpnyan-fund-management"]||[]).push([[14],{1743:function(e,t,a){"use strict";var n=a(0),o=a.n(n),r=a(178),i=a(20),c=a(8),l=a(503),s=a(249),p=a(3),m=Object(l.a)((function(e){return{pageHeaderRoot:Object(c.a)({display:"flex",flexDirection:"column"},e.breakpoints.up("sm"),{alignItems:"center",flexDirection:"row"}),titleRoot:Object(c.a)({},e.breakpoints.down("xs"),{marginBottom:10})}})),u=function(e){var t=e.heading,a=e.breadcrumbComponent,n=e.children,c=Object(i.a)(e,["heading","breadcrumbComponent","children"]),l=m();return o.a.createElement(r.a,Object.assign({className:Object(p.a)(l.pageHeaderRoot,"page-header"),mb:{xs:5,md:6,lg:8}},c),o.a.createElement(s.a,{component:"div",variant:"h1",className:Object(p.a)(l.titleRoot,"title")},t),o.a.createElement(r.a,{ml:{sm:"auto"}},a),n)},d=a(1776),g=a(85),b=Object(l.a)((function(){return{textSm:{fontSize:12},linkBlock:{display:"block",color:"inherit"}}})),f=function(e){var t=e.items,a=(Object(i.a)(e,["items"]),b());return o.a.createElement(d.a,{className:"bread-crumbs","aria-label":"breadcrumb {...rest}"},t.map((function(e,t){return e.isActive?o.a.createElement(s.a,{key:t,className:a.textSm,color:"textPrimary"},e.label):o.a.createElement(g.a,{key:t,className:Object(p.a)(a.textSm,a.linkBlock),color:"inherit",to:e.link||"/"},e.label)})))},h=(a(1623),a(40),a(505),a(1734),a(1606),a(1608),a(1691),Object(l.a)((function(e){var t;return{root:{display:"flex",flexWrap:"wrap"},contentArea:(t={width:"100%"},Object(c.a)(t,e.breakpoints.up("sm"),{paddingRight:e.typography.pxToRem(30),width:"calc(100% - ".concat(e.typography.pxToRem(175),")")}),Object(c.a)(t,e.breakpoints.up("lg"),{paddingRight:e.typography.pxToRem(54)}),t),contentSidebar:{width:e.typography.pxToRem(175),height:"calc(100vh - ".concat(e.typography.pxToRem(102),")"),position:"sticky",top:30,overflowY:"auto",flexShrink:0}}})),a(1611)),E=a(22),y=a.n(E)()((function(e){return{pageFull:{width:"100%"}}}));t.a=function(e){var t=e.heading,a=e.breadcrumbs,n=e.children,i=e.className,c=e.restProps,l=y();return o.a.createElement(h.a,{in:!0,direction:"up",mountOnEnter:!0,unmountOnExit:!0},o.a.createElement(r.a,Object.assign({className:Object(p.a)(l.pageFull,i)},c),(t||a)&&o.a.createElement(u,{heading:t,breadcrumbComponent:a&&o.a.createElement(f,{items:a})}),n))}},2003:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return z}));var n=a(11),o=a.n(n),r=a(31),i=a(15),c=a(0),l=a.n(c),s=a(503),p=a(26),m=a(389),u=a(178),d=a(1688),g=a(1623),b=a(1),f=a(1743),h=a(249),E=a(20),y=a(800),v=a(1612),x=a(1758),k=a(1702),w=a(1704),j=a(304),O=Object(s.a)((function(e){return{modal:{display:"flex",alignItems:"center",justifyContent:"center"},paper:{backgroundColor:e.palette.background.paper,border:"1px solid #000",boxShadow:e.shadows[4],padding:e.spacing(4,8,6)},typeMargin:{marginBottom:"15px"},root:{display:"flex",flexWrap:"wrap","& > *":{backgroundColor:Object(p.e)(e.palette.background.paper,.1),margin:e.spacing(2),width:e.spacing(35),height:e.spacing(25)}},lpButton:{width:"auto",display:"inline-block",marginRight:"12px"}}})),B=l.a.forwardRef((function(e,t){var a=e.in,n=e.children,o=e.onEnter,r=e.onExited,i=Object(E.a)(e,["in","children","onEnter","onExited"]),c=Object(x.useSpring)({from:{opacity:0},to:{opacity:a?1:0},onStart:function(){a&&o&&o()},onRest:function(){!a&&r&&r()}});return l.a.createElement(x.animated.div,Object.assign({ref:t,style:c},i),n)})),S=function(){var e=Object(r.a)(o.a.mark((function e(t,a,n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t,a,n.value),e.next=3,j.b.addPoolETH(t,a,n.value);case 3:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}();function N(){return"ETH"==window.localStorage.getItem("chain")?" ETH":" BNB"}function T(e){var t=e.manager,a=e.pool,n=O(),o=l.a.useState(!1),r=Object(i.a)(o,2),c=r[0],s=r[1],p=l.a.useState(0),m=Object(i.a)(p,2),u=m[0],g=m[1];return l.a.createElement("div",{className:n.lpButton},l.a.createElement(d.a,{variant:"outlined",onClick:function(){s(!0)}},"ADD ",N()),l.a.createElement(y.a,{"aria-labelledby":"spring-modal-title","aria-describedby":"spring-modal-description",className:n.modal,open:c,onClose:function(){s(!1)},closeAfterTransition:!0,BackdropComponent:v.a,BackdropProps:{timeout:500}},l.a.createElement(B,{in:c},l.a.createElement("div",{className:n.paper},l.a.createElement("h2",{id:"spring-modal-title"},"Add Liquidity"),l.a.createElement(h.a,{className:n.typeMargin,variant:"body1",gutterBottom:!0},"You're about to add liquidity to a pool managed by an individual. ",l.a.createElement("br",null),"Please make sure you know this manager and have a means of communicating with them. ",l.a.createElement("br",null)),l.a.createElement(w.a,{className:n.typeMargin,variant:"middle"}),l.a.createElement(k.a,{id:"eth-amount",label:N()+" amount",type:"number",InputLabelProps:{shrink:!0},variant:"outlined",className:n.typeMargin,onChange:function(){g(document.getElementById("eth-amount").value)}}),l.a.createElement("h3",{id:"spring-modal-title"},"Expected Pool Tokens:"),l.a.createElement(h.a,{className:n.typeMargin,variant:"h1",component:"h2",gutterBottom:!0},u," mTokens"),l.a.createElement(d.a,{variant:"outlined",onClick:function(){return S(t,a,document.getElementById("eth-amount"))}},"Add")))))}var C=a(102),P=Object(s.a)((function(e){return{modal:{display:"flex",alignItems:"center",justifyContent:"center"},paper:{backgroundColor:e.palette.background.paper,border:"1px solid #000",boxShadow:e.shadows[4],padding:e.spacing(4,8,6)},typeMargin:{marginBottom:"15px"},root:{display:"flex",flexWrap:"wrap","& > *":{backgroundColor:Object(p.e)(e.palette.background.paper,.1),margin:e.spacing(2),width:e.spacing(35),height:e.spacing(25)}},lpButton:{width:"auto",display:"inline-block",marginRight:"12px"}}})),R=l.a.forwardRef((function(e,t){var a=e.in,n=e.children,o=e.onEnter,r=e.onExited,i=Object(E.a)(e,["in","children","onEnter","onExited"]),c=Object(x.useSpring)({from:{opacity:0},to:{opacity:a?1:0},onStart:function(){a&&o&&o()},onRest:function(){!a&&r&&r()}});return l.a.createElement(x.animated.div,Object.assign({ref:t,style:c},i),n)})),M=function(){var e=Object(r.a)(o.a.mark((function e(t,a){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=document.getElementById("token-amount").value,e.next=3,j.b.withdrawPoolETH(t,a,j.c.toWei(n.toString()));case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();function I(){return"ETH"==window.localStorage.getItem("chain")?" ETH":" BNB"}function A(e){var t=e.manager,a=e.pool,n=P(),c=l.a.useState(!1),s=Object(i.a)(c,2),p=s[0],m=s[1],u=l.a.useState(0),g=Object(i.a)(u,2),b=g[0],f=g[1],E=l.a.useState(0),x=Object(i.a)(E,2),O=x[0],B=x[1],S=l.a.useState(!0),N=Object(i.a)(S,2),T=N[0],A=N[1];Object(C.useEffect)((function(){function e(){return(e=Object(r.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var H=function(){var e=Object(r.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.b.approvePoolToken(t);case 2:a=e.sent,console.log(a),a.status&&A(!0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),W=function(){var e=Object(r.a)(o.a.mark((function e(){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=document.getElementById("token-amount").value,e.t0=f,e.next=5,j.b.estimateETHWithdrawal(t,a,j.c.toWei(n.toString()));case 5:return e.t1=e.sent,(0,e.t0)(e.t1),e.t2=B,e.next=10,j.b.getApprovedAmount(a);case 10:e.t3=e.sent,(0,e.t2)(e.t3),console.log(b),console.log(O),j.c.toWei(n.toString())>O?A(!1):A(!0),e.next=20;break;case 17:e.prev=17,e.t4=e.catch(0),console.log(e.t4);case 20:case"end":return e.stop()}}),e,null,[[0,17]])})));return function(){return e.apply(this,arguments)}}();return l.a.createElement("div",{className:n.lpButton},l.a.createElement(d.a,{variant:"outlined",onClick:function(){m(!0)}},"Remove ",I()),l.a.createElement(y.a,{"aria-labelledby":"spring-modal-title","aria-describedby":"spring-modal-description",className:n.modal,open:p,onClose:function(){m(!1)},closeAfterTransition:!0,BackdropComponent:v.a,BackdropProps:{timeout:500}},l.a.createElement(R,{in:p},l.a.createElement("div",{className:n.paper},l.a.createElement("h2",{id:"spring-modal-title"},"Remove Liquidity"),l.a.createElement(h.a,{className:n.typeMargin,variant:"body1",gutterBottom:!0},"You're about to remove ETH from this Self managed pool. ",l.a.createElement("br",null),"Your returned ",I(),"  will be prorated depending on how much the pool's manager has withdrawn. ",l.a.createElement("br",null)),l.a.createElement(w.a,{className:n.typeMargin,variant:"middle"}),l.a.createElement(k.a,{id:"token-amount",label:"Pool Token amount",type:"number",onChange:W,InputLabelProps:{shrink:!0},variant:"outlined",className:n.typeMargin}),l.a.createElement("h3",{id:"spring-modal-title"},"Expected ",I(),":"),l.a.createElement(h.a,{className:n.typeMargin,variant:"h1",component:"h2",gutterBottom:!0},j.c.getRoundedBalance(b.toString())," ",I()),T?l.a.createElement(d.a,{onClick:function(){return M(t,a)},variant:"outlined"},"Withdraw my Liquidity"):l.a.createElement(d.a,{onClick:function(){return H(a)},variant:"outlined"},"First, Approve the Contract")))))}var H=Object(s.a)((function(e){return{modal:{display:"flex",alignItems:"center",justifyContent:"center"},paper:{backgroundColor:e.palette.background.paper,border:"1px solid #000",boxShadow:e.shadows[4],padding:e.spacing(4,8,6)},typeMargin:{marginBottom:"15px"},root:{display:"flex",flexWrap:"wrap","& > *":{backgroundColor:Object(p.e)(e.palette.background.paper,.1),margin:e.spacing(2),width:e.spacing(35),height:e.spacing(25)}},lpButton:{width:"auto",display:"inline-block",marginRight:"12px"}}})),W=function(){var e=Object(r.a)(o.a.mark((function e(t,a){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.b.claimPoolProfit(t,a);case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();function D(){return"ETH"==window.localStorage.getItem("chain")?" ETH":" BNB"}var L=l.a.forwardRef((function(e,t){var a=e.in,n=e.children,o=e.onEnter,r=e.onExited,i=Object(E.a)(e,["in","children","onEnter","onExited"]),c=Object(x.useSpring)({from:{opacity:0},to:{opacity:a?1:0},onStart:function(){a&&o&&o()},onRest:function(){!a&&r&&r()}});return l.a.createElement(x.animated.div,Object.assign({ref:t,style:c},i),n)}));function q(e){var t=e.manager,a=e.pool,n=e.profit,c=H(),s=l.a.useState(!1),p=Object(i.a)(s,2),m=p[0],u=p[1],g=l.a.useState(0),b=Object(i.a)(g,2),f=b[0],E=b[1];Object(C.useEffect)((function(){function e(){return(e=Object(r.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n>0)){e.next=11;break}return e.t0=console,e.next=4,j.b.estimatedPoolProfit(t,a);case 4:return e.t1=e.sent,e.t0.log.call(e.t0,e.t1),e.t2=E,e.next=9,j.b.estimatedPoolProfit(t,a);case 9:e.t3=e.sent,(0,e.t2)(e.t3);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);return l.a.createElement("div",{className:c.lpButton},l.a.createElement(d.a,{variant:"outlined",onClick:function(){u(!0)}},"Take Profits"),l.a.createElement(y.a,{"aria-labelledby":"spring-modal-title","aria-describedby":"spring-modal-description",className:c.modal,open:m,onClose:function(){u(!1)},closeAfterTransition:!0,BackdropComponent:v.a,BackdropProps:{timeout:500}},l.a.createElement(L,{in:m},l.a.createElement("div",{className:c.paper},l.a.createElement("h2",{id:"spring-modal-title"},"Take ",D()," Profits"),l.a.createElement(h.a,{className:c.typeMargin,variant:"body1",gutterBottom:!0},"Available pool profits can be claimed here. ",l.a.createElement("br",null),"Claiming operates on a FIFO basis and the amount of pool Tokens you have. ",l.a.createElement("br",null)),l.a.createElement(w.a,{className:c.typeMargin,variant:"middle"}),l.a.createElement("h3",{id:"spring-modal-title"},"Available Profit:"),l.a.createElement(h.a,{className:c.typeMargin,variant:"h1",component:"h2",gutterBottom:!0},j.c.getRoundedBalance(n)," ",D()),l.a.createElement("h3",{id:"spring-modal-title"},"Expected ",D(),":"),l.a.createElement(h.a,{className:c.typeMargin,variant:"h1",component:"h2",gutterBottom:!0},j.c.getRoundedBalance(f.toString())," ",D()),l.a.createElement(d.a,{variant:"outlined",onClick:function(){return W(t,a)}},"Claim")))))}Object(s.a)((function(e){return{modal:{display:"flex",alignItems:"center",justifyContent:"center"},paper:{backgroundColor:e.palette.background.paper,border:"1px solid #000",boxShadow:e.shadows[4],padding:e.spacing(4,8,6)},typeMargin:{marginBottom:"15px"},root:{display:"flex",flexWrap:"wrap","& > *":{backgroundColor:Object(p.e)(e.palette.background.paper,.1),margin:e.spacing(2),width:e.spacing(35),height:e.spacing(25)}},lpButton:{width:"auto",display:"inline-block",marginRight:"12px"}}})),l.a.forwardRef((function(e,t){var a=e.in,n=e.children,o=e.onEnter,r=e.onExited,i=Object(E.a)(e,["in","children","onEnter","onExited"]),c=Object(x.useSpring)({from:{opacity:0},to:{opacity:a?1:0},onStart:function(){a&&o&&o()},onRest:function(){!a&&r&&r()}});return l.a.createElement(x.animated.div,Object.assign({ref:t,style:c},i),n)}));var F=a(24),V=(a(333),Object(s.a)((function(e){return{root:{display:"flex",flexWrap:"wrap","& > *":{backgroundColor:Object(p.e)(e.palette.background.paper,.1)}},padding:{padding:"10px",marginTop:"30px",width:"100%"},paddingWarning:{padding:"10px",marginTop:"5px",marginBottom:"15px",width:"100%",border:"1px solid red"},tokenPadding:{marginBottom:"7px"},tokenPaddingBottom:{marginTop:"15px",marginBottom:"5px"},h1Variant:{fontSize:"35px"},viewPoolContract:{marginBottom:"5px"}}})));function Y(){return"ETH"==window.localStorage.getItem("chain")?" ETH":" BNB"}function z(){var e=V(),t=Object(F.h)(),a=l.a.useState(null),n=Object(i.a)(a,2),c=n[0],s=n[1],p=l.a.useState(null),E=Object(i.a)(p,2),y=E[0],v=E[1],x=l.a.useState(0),k=Object(i.a)(x,2),w=k[0],O=k[1],B=l.a.useState(0),S=Object(i.a)(B,2),N=S[0],P=S[1],R=l.a.useState(0),M=Object(i.a)(R,2),I=M[0],H=M[1],W=l.a.useState(null),D=Object(i.a)(W,2),L=D[0],z=D[1],J=l.a.useState(0),U=Object(i.a)(J,2),G=U[0],K=U[1];return Object(C.useEffect)((function(){function e(){return(e=Object(r.a)(o.a.mark((function e(){var a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.pathname.split("/"),e.t0=s,e.next=4,j.b.getSelfPoolData(a[a.length-1]);case 4:return e.t1=e.sent,(0,e.t0)(e.t1),e.next=8,j.b.getSelfPoolData(a[a.length-1]);case 8:return n=e.sent,O(n.holdings),e.t2=K,e.next=13,j.b.getMySelfPoolTokens(n.poolToken);case 13:e.t3=e.sent,(0,e.t2)(e.t3),P(n.profits),H(n.poolToken),z(n.name),v(a[a.length-1]);case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),l.a.createElement(f.a,{heading:l.a.createElement(b.a,{id:"Pool name: "+L})},null!=c?l.a.createElement("div",null,l.a.createElement(u.a,{className:e.root},l.a.createElement(m.a,{className:e.paddingWarning,elevation:2},"The Nyan ecosystem allows anyone to create a pool and get access to liquidity. Before interacting with any pool, make sure you know the manager of the pool and trust them. Similar to Etherscan and Uniswap, this site automatically displays stats for all Nyan pools independent of pool integrity.",l.a.createElement("br",null),"ETH"==window.localStorage.getItem("chain")?l.a.createElement(d.a,{href:"https://etherscan.io/address/"+I,className:e.tokenPaddingBottom},"View Pool Contract on Etherscan"):l.a.createElement(d.a,{href:"https://bscscan.com/address/"+I,className:e.tokenPaddingBottom},"View Pool Contract on Bscscan"))),l.a.createElement(h.a,{className:e.tokenPadding,variant:"h3",component:"h2",gutterBottom:!0},"Pool Token: ",I),l.a.createElement(h.a,{className:e.tokenPaddingBottom,variant:"h3",component:"h2",gutterBottom:!0},"My Tokens: ",j.c.getRoundedBalance(G.toString())),l.a.createElement(u.a,null,null!=y?l.a.createElement("div",null,l.a.createElement(T,{pool:I,manager:y}),l.a.createElement(A,{pool:I,manager:y}),l.a.createElement(q,{pool:I,manager:y,profit:N})):null),l.a.createElement(u.a,{className:e.root},l.a.createElement(g.a,{className:e.padding,item:!0,xs:12},l.a.createElement(h.a,{variant:"h5",component:"h5",gutterBottom:!0},"TOTAL ",Y(),":"),l.a.createElement(h.a,{className:e.h1Variant,variant:"h1",component:"h1",gutterBottom:!0},j.c.getRoundedBalance(w.toString())),l.a.createElement(m.a,{elevation:2})),l.a.createElement(g.a,{className:e.padding,item:!0,xs:12},l.a.createElement(h.a,{variant:"h5",component:"h5",gutterBottom:!0},"Available Profits (",Y(),"):"),l.a.createElement(h.a,{className:e.h1Variant,variant:"h1",component:"h1",gutterBottom:!0},j.c.getRoundedBalance(N.toString())),l.a.createElement(m.a,{elevation:2})))):null)}}}]);
//# sourceMappingURL=14.0d918304.chunk.js.map